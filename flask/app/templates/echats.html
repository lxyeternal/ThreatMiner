<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Dashboard">
  <meta name="keyword" content="hacker,flask">
  <title>黑客社区的人物画像平台</title>

  <!-- Favicons -->
  <link href="../static/images/favicon.png" rel="icon">
  <link href="../static/images/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Bootstrap core CSS -->
  <link href="../static/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <!--external css-->
  <link href="../static/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="../static/css/zabuto_calendar.css">
  <link rel="stylesheet" type="text/css" href="../static/lib/gritter/css/jquery.gritter.css" />
  <!-- Custom styles for this template -->
  <link href="../static/css/style.css" rel="stylesheet">
  <link href="../static/css/style-responsive.css" rel="stylesheet">
  <script src="../static/lib/chart-master/Chart.js"></script>
	<script src="../static/lib/chart-master/echarts.js"></script>
	<script src="../static/lib/chart-master/echarts-wordcloud.js"></script>

</head>

<body>
  <section id="container">
    <!--sidebar start-->
    <aside>
      <div id="sidebar" class="nav-collapse ">
        <!-- sidebar menu start-->
        <ul class="sidebar-menu" id="nav-accordion">
          <p class="centered"><a href="profile.html"><img src="../static/images/ui-sam.jpg" class="img-circle" width="80"></a></p>
          <h5 class="centered">{{ user_infro[0] }}</h5>
          <li class="mt">
            <a class="active" href="index.html">
              <i class="fa fa-dashboard"></i>
              <span>黑客画像</span>
              </a>
          </li>
          <li>
            <a>
              <i class="fa fa-map-marker"></i>
              <span> {{ user_infro[1] }} </span>
              </a>
          </li>

            <li>
            <a>
              <i class="fa fa-map-marker"></i>
              <span> {{ user_infro[2] }} </span>
              </a>
            </li>

            <li>
            <a>
              <i class="fa fa-map-marker"></i>
              <span> {{ user_infro[3] }} </span>
              </a>
            </li>

					<li>
						<a>
							<i class="fa fa-map-marker"></i>
							<span> {{ user_infro[4] }} </span>
							</a>
					</li>
					<li>
						<a>
							<i class="fa fa-map-marker"></i>
							<span> {{ user_infro[5] }} </span>
							</a>
					</li>
					<li>
						<a>
							<i class="fa fa-map-marker"></i>
							<span> {{ user_infro[6] }} </span>
							</a>
					</li>
        </ul>
        <!-- sidebar menu end-->
      </div>
    </aside>
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
      <section class="wrapper">
        <div class="row">
          <div class="col-lg-9 main-chart">
            <!--CUSTOM CHART START -->
            <div class="border-head">
              <h3>黑客画像</h3>
            </div>
            <div class="custom-bar-chart" id = "main0"></div>
						<script type="text/javascript">
							var myChart0 = echarts.init(document.getElementById('main0'));
							option0 = {
                title: {
                    text: '{{ username }}的发言情况',
                    subtext: '黑客论坛'
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data:['发言数量']
                },
                toolbox: {
                    show: true,
                    feature: {
                        dataZoom: {
                            yAxisIndex: 'none'
                        },
                        dataView: {readOnly: false},
                        magicType: {type: ['line', 'bar']},
                        restore: {},
                        saveAsImage: {}
                    }
                },
                xAxis:  {
                    type: 'category',
                    boundaryGap: false,
                    data: ['2010','2011','2012','2013','2014','2015','2016','2017','2018','2019']
                },
                yAxis: {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value}条'
                    }
                },
                series: [
                    {
                        name:'最少发言次数',
                        type:'line',
                        data:{{ user_posts }},
                        markPoint: {
                            data: [
                                {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}
                            ]
                        },
                        markLine: {
                            data: [
                                {type: 'average', name: '平均值'},
                                [{
                                    symbol: 'none',
                                    x: '90%',
                                    yAxis: 'max'
                                }, {
                                    symbol: 'circle',
                                    label: {
                                        normal: {
                                            position: 'start',
                                            formatter: '最大值'
                                        }
                                    },
                                    type: 'max',
                                    name: '最高点'
                                }]
                            ]
                        }
                    }
                ]
            };

						myChart0.setOption(option0,true);
				</script>


              <div class="custom-bar-chart" style="text-align:center" id = "main00">
                  <h4 style="color:#000000;text-align:left">{{ username }}的排名情况</h4>
                  <h2 style="color:#000000;text-align:center">{{ user_rank[0] }}</h2>
                  <h3 style="color:#696969;text-align:center">{{ user_rank[1] }}</h3>
                  <h4 style="color:#808080;text-align:center">{{ user_rank[2] }}</h4>
                  <h5 style="color:#808080;text-align:center">{{ user_rank[3] }}</h5>
                  <h5 style="color:#808080;text-align:center">{{ user_rank[4] }}</h5>
                  <h5 style="color:#0000FF;text-align:center">{{ user_rank[5] }}</h5>

              </div>

						<!--<script type="text/javascript">-->
							<!--var myChart00 = echarts.init(document.getElementById('main00'));-->
							<!--option00 = {-->
							<!--title: {-->
                            <!--text: '99h4x0r的排名情况',-->
                            <!--subtext: '黑客论坛'-->
                             <!--},-->
                        <!--xAxis: {-->
                            <!--type: 'category',-->
                            <!--data: ['1-b0nd', '2-fb1h2s', '3-anarki', '4-abhaythehero', '5-neo','27-99h4x0r']-->
                        <!--},-->
                        <!--yAxis: {-->
                            <!--type: 'value'-->
                        <!--},-->
                        <!--series: [{-->
                            <!--data: [1, 0.94, 0.92, 0.89, 0.85, 0.61],-->
                            <!--type: 'bar'-->
                        <!--}]-->
                    <!--};-->

						<!--myChart00.setOption(option00,true);-->
				<!--</script>-->
				
				<div class="custom-bar-chart" id = "main1"></div>
										<script type="text/javascript">
											var myChart1 = echarts.init(document.getElementById('main1'));
											option1 = {
													title: {
															text: '研究领域雷达图({{ user_infro[3] }} )',
															subtext: '{{ user_infro[3] }} '
													},
													tooltip: {},
													legend: {
															data: []
													},
													radar: {
															// shape: 'circle',
															name: {
																	textStyle: {
																			color: '#fff',
																			backgroundColor: '#999',
																			borderRadius: 3,
																			padding: [3, 5]
																}
															},
															indicator: [
																{ name: 'web', max: 300},
																{ name: 'network', max: 50},
																{ name: 'system', max: 1200},
																{ name: 'database', max: 50},
																{ name: 'mobile', max: 1800},
															]
													},
													series: [{
															name: '预算 vs 开销（Budget vs spending）',
															type: 'radar',
															// areaStyle: {normal: {}},
															//<!--data : {{ series_data|safe }}-->
															data: {{ user_radar|safe }}
													}]
											};
				
										myChart1.setOption(option1,true);
								</script>
				
              
            
            <!--custom chart end-->
            <div class="row mt">
              <!-- SERVER STATUS PANELS -->
              <div class="col-md-4 col-sm-4 mb" >
                <div class="grey-panel pn donut-chart">
                  <div class="grey-header">
                    <h5>活跃情况</h5>
                  </div>
                  <canvas id="main2" height="180" width="250"></canvas>
                  <script type="text/javascript">
										var myChart2 = echarts.init(document.getElementById('main2'));

												option2 = {
														title: {
// 																text: '黑客的发言数及创建话题数',
// 																subtext: '数据来自各大黑客论坛'
														},
														tooltip: {
																trigger: 'axis',
																axisPointer: {
																		type: 'shadow'
																}
														},
														legend: {
																data: ['发言数', '创建话题数']
														},
														grid: {
																left: '3%',
																right: '4%',
																bottom: '3%',
																containLabel: true
														},
														xAxis: {
																type: 'value',
																boundaryGap: [0, 0.01]
														},
														yAxis: {
																type: 'category',
																data: ['{{ username }}']
														},
														series: [
																{
																		name: '发言数',
																		type: 'bar',
																		data: [{{ user_activate[0] }}]
																},
																{
																		name: '创建话题数',
																		type: 'bar',
																		data: [{{ user_activate[1] }}]
																}
														]
												};
											
										myChart2.setOption(option2,true);
                  </script>
                </div>
                <!-- /grey-panel -->
              </div>
              <!-- /col-md-4-->
              <div class="col-md-4 col-sm-4 mb">
                <div class="darkblue-panel pn">
                  <div class="darkblue-header">
                    <h5>用户关键词</h5>
                  </div>
                  <canvas id="main3" height="180" width="180"></canvas>
											<script type="text/javascript">
													var myChart3 = echarts.init(document.getElementById('main3'));
                  				
													var option3 = {
															tooltip: {},
															series: [ {
																	type: 'wordCloud',
																	gridSize: 2,
																	sizeRange: [10, 30],
																	rotationRange: [-90, 90],
																	shape: 'pentagon',
																	width: 200,
																	height: 200,
																	drawOutOfBound: true,
																	textStyle: {
																			normal: {
																					color: function () {
																							return 'rgb(' + [
																									Math.round(Math.random() * 160),
																									Math.round(Math.random() * 160),
																									Math.round(Math.random() * 160)
																							].join(',') + ')';
																					}
																			},
																			emphasis: {
																					shadowBlur: 10,
																					shadowColor: '#333'
																			}
																	},
																	data: {{ word_list|safe }}
															} ]
													};
                  															
                  			myChart3.setOption(option3,true);
										</script>
                </div>
                <!--  /darkblue panel -->
              </div>
              <!-- /col-md-4 -->
              <div class="col-md-4 col-sm-4 mb">
                <!-- REVENUE PANEL -->
                <div class="green-panel pn">
                  <div class="green-header">
                    <h5>能力排名变化</h5>
                  </div>
									<canvas id="main4" height="200" width="230" style="width: 200px; height: 200px;margin-left:20px"></canvas>
											<script type="text/javascript">
													var myChart4 = echarts.init(document.getElementById('main4'));
													option4 = {
															xAxis: {
																	type: 'category',
																	data: ['2010', '2011', '2012', '2013', '2014', '2015', '2016','2017','2018','2019']
															},
															yAxis: {
																	type: 'value'
															},
															series: [{
																	data: [820, 932, 901, 934, 1290, 1330, 1320,1500,1783,1863],
																	type: 'line'
															}]
													};
// 																														
 												myChart4.setOption(option4,true);
											</script>
                </div>
              </div>
              <!-- /col-md-4 -->
            </div>
          </div>
          <!-- /col-lg-9 END SECTION MIDDLE -->
          <!-- **********************************************************************************************************************************************************
              RIGHT SIDEBAR CONTENT
              *********************************************************************************************************************************************************** -->
          <div class="col-lg-3 ds">
            <!--COMPLETED ACTIONS DONUTS CHART-->
            <div class="donut-main">
              <h4>行为分析</h4>
               <div id="main5" height="300" width="200" style="width: 200px; height: 270px;margin-left:50px"></div>
               			<script type="text/javascript">
               				var myChart5 = echarts.init(document.getElementById('main5'));
											
               					myChart5.title = '环形图';
												option5 = {
														tooltip: {
																trigger: 'item',
																formatter: "{a}<br/>{b}: {c} ({d}%)"
														},
														legend: {
																orient: 'vertical',
																x: 'left',
																data:['{{ username }}的发言占比','其他黑客的发言占比']
														},
														series: [
																{
																		name:'访问来源',
																		type:'pie',
																		radius: ['50%', '70%'],
																		avoidLabelOverlap: false,
																		label: {
																				normal: {
																						show: false,
																						position: 'center'
																				},
																				emphasis: {
																						show: true,
																						textStyle: {
																								fontSize: '30',
																								fontWeight: 'bold'
																						}
																				}
																		},
																		labelLine: {
																				normal: {
																						show: false
																				}
																		},
																		data:[
																				{value:{{ user_acti[0] }}, name:'{{ username }}的发言占比'},
																				{value:{{ user_acti[1] }}, name:'其他黑客的发言占比'}
																		]
																}
														]
												};
               											
               					myChart5.setOption(option5,true);
               		</script>
              </script>
            </div>
            <!-- RECENT ACTIVITIES SECTION -->
            <h4 class="centered mt">近期活动</h4>
            <!-- First Activity -->
               {% for rec in user_rec %}
            <div class="desc">
              <div class="thumb">
                <span class="badge bg-theme"><i class="fa fa-clock-o"></i></span>
              </div>
              <div class="details">
                <p>
                  <muted>{{ rec[0] }}</muted>
                  <br/>
                 {{ rec[1] }}<br/>
                </p>
              </div>
            </div>
                {% endfor %}
            <div id="calendar" class="mb">
              <div class="panel green-panel no-margin">
                <div class="panel-body">
                  <div id="date-popover" class="popover top" style="cursor: pointer; disadding: block; margin-left: 33%; margin-top: -50px; width: 175px;">
                    <div class="arrow"></div>
                    <h3 class="popover-title" style="disadding: none;"></h3>
                    <div id="date-popover-content" class="popover-content"></div>
                  </div>
                  <div id="my-calendar"></div>
                </div>
              </div>
            </div>
						
            <!-- / calendar -->
          </div>
					
          <!-- /col-lg-3 -->
        </div>
        <!-- /row -->
      </section>
    </section>
    <!--main content end-->
  </section>
  <!-- js placed at the end of the document so the pages load faster -->
  <script src="../static/lib/jquery/jquery.min.js"></script>

  <script src="../static/lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="../static/lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="../static/lib/jquery.scrollTo.min.js"></script>
  <script src="../static/lib/jquery.nicescroll.js" type="text/javascript"></script>
  <script src="../static/lib/jquery.sparkline.js"></script>
  <!--common script for all pages-->
  <script src="../static/lib/common-scripts.js"></script>
  <script type="text/javascript" src="../static/lib/gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="../static/lib/gritter-conf.js"></script>
  <!--script for this page-->
  <script src="../static/lib/sparkline-chart.js"></script>
  <script src="../static/lib/zabuto_calendar.js"></script>
  <script type="application/javascript">
    $(document).ready(function() {
      $("#date-popover").popover({
        html: true,
        trigger: "manual"
      });
      $("#date-popover").hide();
      $("#date-popover").click(function(e) {
        $(this).hide();
      });

      $("#my-calendar").zabuto_calendar({
        action: function() {
          return myDateFunction(this.id, false);
        },
        action_nav: function() {
          return myNavFunction(this.id);
        },
        ajax: {
          url: "show_data.php?action=1",
          modal: true
        },
        legend: [{
            type: "text",
            label: "Special event",
            badge: "00"
          },
          {
            type: "block",
            label: "Regular event",
          }
        ]
      });
    });

  </script>
</body>

</html>
